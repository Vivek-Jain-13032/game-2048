<div class="controls-container">
    <div class="header">
        <div class="title-section">
            <h1 class="game-title">2048</h1>
            <p class="game-subtitle">Join the tiles, get to 2048!</p>
        </div>

        <div class="score-box">
            <div class="score-label">SCORE</div>
            <div class="score-value">{{ score() }}</div>
        </div>
    </div>

    <div class="controls">
        <button type="button" class="btn btn-success" (click)="onRestart()">New Game</button>

        <div class="size-selector">
            <div class="dropdown d-inline-block">
                <button class="btn btn-warning dropdown-toggle" type="button" id="boardSizeDropdown"
                    data-bs-toggle="dropdown" aria-expanded="false">
                    Board Size: {{ selectedSize }}x{{ selectedSize }}
                </button>
                <ul class="dropdown-menu" aria-labelledby="boardSizeDropdown">
                    <li><a class="dropdown-item" href="#" (click)="onSizeChange(3); $event.preventDefault()">3x3</a>
                    </li>
                    <li><a class="dropdown-item" href="#" (click)="onSizeChange(4); $event.preventDefault()">4x4</a>
                    </li>
                    <li><a class="dropdown-item" href="#" (click)="onSizeChange(5); $event.preventDefault()">5x5</a>
                    </li>
                </ul>
            </div>
        </div>
    </div>

    @if (gameWon() && !gameOver()) {
    <div class="modal fade show" id="winModal" style="display: block;" data-bs-backdrop="static"
        data-bs-keyboard="false" tabindex="-1" aria-labelledby="winModalLabel" aria-modal="true">
        <div class="modal-dialog modal-dialog-centered modal-sm">
            <div class="modal-content">
                <div class="modal-body">
                    <h2 class="modal-title fs-5" id="winModalLabel">ðŸŽ‰ You Win!</h2>
                    <p class="final-score">You reached 2048!</p>
                    <button type="button" class="btn btn-success" (click)="onRestart()">New Game</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop fade show"></div>
    }

    @if (gameOver()) {
    <div class="modal fade show" id="winModal" style="display: block;" data-bs-backdrop="static"
        data-bs-keyboard="false" tabindex="-1" aria-labelledby="winModalLabel" aria-modal="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-body">
                    <h2 class="modal-title fs-5" id="winModalLabel">Game Over!</h2>
                    <p>No more moves available</p>
                    <p>Final Score: {{ score() }}</p>
                    <button type="button" class="btn btn-danger" (click)="onRestart()">Try Again</button>
                </div>
            </div>
        </div>
    </div>
    <div class="modal-backdrop fade show"></div>
    }
</div>